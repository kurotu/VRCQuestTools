---
sidebar_position: 1
---

import AddToVccLink from '@site/src/components/AddToVccLink';

# 環境の準備

アバターの変換を始める前に、環境を整える必要があります。

## Android Build Supportのインストール

VRChatはPCとAndroid (Quest, PICO, スマートフォン)の2つのプラットフォームをサポートしています。
Android向けのアバターやワールドを作成するには、Unityに**Android Build Support**モジュールをインストールする必要があります。
VRChat Creator Companion (VCC)を使ってUnityをインストールした場合、通常Android Build Supportもインストールされています。

:::info
PCとAndroidの最大の違いは、性能ではなくプラットフォーム(OS)です。
たとえPCでパフォーマンスランクがExcellentかつポリゴン数が少ないアバターを作成しても、Android向けにアップロードしない限りAndroidには対応していません。
:::

:::warning
Android Build Supportがインストールされていない場合、プラットフォームを切り替えようとしても `Android Player is Disabled` とエラーメッセージが表示され、Androidビルドができません。
:::

### Android Build Supportの確認

1. メニューバーから **File** > **Build Settings** を選択します。
2. Platformのリストから**Android**を選択し、内容を確認します。

| Android Build Supportがインストールされている | Android Build Supportがインストールされていない |
|---|---|
| ![Android Module](/img/unity_android_ok.png) | ![No Android Module](/img/unity_android_ng.png) |

もしAndroid Build Supportがインストールされていない場合は、Unity Hubからインストールできます。

### Android Build Supportのインストール

#### Unity Hubを使用する場合

1. Unity Hubを起動します。
2. 横のメニューから**インストール**を選択します。
3. Android Build SupportをインストールしたいUnityのバージョンを右クリックします。
4. **モジュールを加える**を選択します。
    ![Installs](/img/unity-hub_installs.png)
5. **Android Build Support**を選択します。
    :::note
    **OpenJDK**を選択する必要はありません。
    **Android SDK & NDK Tools**も必須ではありませんが、アップロードせずにAndroid端末で「Build & Test」(ローカルテスト)をするために必要です。
    :::
    ![Add Modules](/img/unity-hub_add-modules.png)
6. **インストール**をクリックします。
7. インストールが完了するまで待ちます。

#### Unity Hubを使用しない場合

Unity Hubを使わずにUnityをインストールした場合は、追加のインストーラーを再度実行することでAndroid Build Supportを追加できます。

1. [Unity Download Archive](https://unity.com/releases/editor/archive)から使用しているUnityバージョンを選択します (2022.3.22f1 など)。
2. **Component installers**から**Android Build Support**をダウンロードします。
3. ダウンロードしたインストーラーを実行します。
4. インストーラーの指示に従ってインストールを完了します。
5. Unity Editorが起動している場合は再起動します。

## VRCQuestToolsのインストール

VRCQuestToolsをインストールするには、以下のいずれかの方法を選択します。
- [VRChat Creator Companion (VCC)](#vrchat-creator-companion-vcc) (推奨)
- [Unitypackage](#unitypackage)
- [Unity Package Manager (UPM)](#unity-package-manager-upm)

### VRChat Creator Companion (VCC)

#### VCCにVPMリポジトリを追加

VRCQuestToolsはVPMのコミュニティリポジトリで提供されています。
リポジトリをVCCに追加することができます。

1. 下の**Add to VCC**ボタンをクリックします。VCCが起動します。
    <AddToVccLink className="button button--primary button--lg" />

2. **I Understand, Add Repository**ボタンをクリックします。
3. **kurotu**リポジトリが**Community Repository**セクションに追加されます。

:::note
VCCに手動でコミュニティリポジトリのURLを追加することもできます。

```
https://kurotu.github.io/vpm-repos/vpm.json
```
:::

#### アバタープロジェクトにVRCQuestToolsを追加

VCCでVRCQuestToolsを管理できるようになりました。アバタープロジェクトに追加しましょう。

1. VRCQuestToolsを追加したいアバタープロジェクトを選択します。
2. **Manage Project**ボタンをクリックします。
3. VRCQuestToolsの行の⊕ボタンをクリックします。
4. 最新版のVRCQuestToolsがプロジェクトに追加されます。

### Unitypackage

VRCQuestToolsをUnitypackageでインストールすることもできます。

1. [VRCQuestToolsの最新リリースページ](https://github.com/kurotu/VRCQuestTools/releases/latest)を開きます。
2. `VRCQuestTools-<version>.unitypackage`をダウンロードします。
3. ダウンロードしたunitypackageをアバタープロジェクトで開きます。
4. **Import**ボタンをクリックします。
5. VRCQuestToolsが`Packages/com.github.kurotu.vrc-quest-tools`フォルダに追加されます。

### Unity Package Manager (UPM)

UPMでプロジェクトに`https://github.com/kurotu/VRCQuestTools.git?path=Packages/com.github.kurotu.vrc-quest-tools`をインポートします。
